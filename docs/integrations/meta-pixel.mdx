---
title: Meta Pixel (Facebook Pixel)
description: Learn how to use Meta Pixel with c15t.
lastModified: 2025-09-24
canary: true
---

Meta Pixel (Facebook Pixel) is a popular tracking pixel for marketing purposes. By default c15t will load the script based on `marketing` consent.
This script will also persist after consent is revoked. This is because the script has built-in functionality to opt into and out of tracking based on consent, which allows us to not need to load the script again when consent is revoked.

## Implementation

<Steps>
  <Step>
    ### Adding the script to c15t

    <Tabs items={['JavaScript', 'React', 'Next.js + App Router', 'Next.js + Pages Router']}>
      <Tab value="JavaScript">
        ```ts
        import { metaPixel } from 'c15t/scripts/meta-pixel';

        configureConsentManager({
          // ... 
          scripts: [
            metaPixel({
              pixelId: '123456789012345',
            }),
          ],
        });
        ```
      </Tab>

      <Tab value="React">
        ```tsx
        import { metaPixel } from '@c15t/scripts/meta-pixel';
        import { ConsentManagerProvider } from '@c15t/react';

        export function App({ children }: { children: React.ReactNode }) { 
          return (
            <ConsentManagerProvider
              options={{
                scripts: [
                  metaPixel({
                    pixelId: '123456789012345',
                  }),
                ],
              }}
            >
              {children}
            </ConsentManagerProvider>
          );
        }
        ```
      </Tab>

      <Tab value="Next.js + App Router">
        ```tsx
        'use client';
        import { metaPixel } from '@c15t/scripts/meta-pixel';
        import { ClientSideOptionsProvider } from '@c15t/nextjs/client';

        export function ConsentManagerClient({ children }: { children: React.ReactNode }) { 
          return (
            <ClientSideOptionsProvider
              scripts={[
                metaPixel({
                  pixelId: '123456789012345',
                }),
              ]}
            >
              {children}
            </ClientSideOptionsProvider>
          );
        }
        ```
      </Tab>

      <Tab value="Next.js + Pages Router">
        ```tsx
        import { metaPixel } from '@c15t/scripts/meta-pixel';
        import { ConsentManagerProvider } from '@c15t/nextjs';

        export function App({ children }: { children: React.ReactNode }) { 
          return (
            <ConsentManagerProvider
              options={{
                // ... other options
                scripts: [
                  metaPixel({
                    pixelId: '123456789012345',
                  }),
                ],
              }}
            >
              {children}
            </ConsentManagerProvider>
          );
        }
        ```
      </Tab>
    </Tabs>
  </Step>
</Steps>

## metaPixelEvent

You can use the `metaPixelEvent` function to track events. This is a wrapper around the `fbq` function that the Meta Pixel script uses.

To learn more about Meta Pixel's standard events, see the [Meta Pixel documentation](https://developers.facebook.com/docs/meta-pixel/reference).

```ts
import { metaPixelEvent } from '@c15t/scripts/meta-pixel';

metaPixelEvent('Purchase', { value: 10.0, currency: 'USD' });
```

## Types

### MetaPixelOptions

<AutoTypeTable path="./packages/scripts/src/meta-pixel.ts" name="MetaPixelOptions" />

### Script

<AutoTypeTable path="./packages/core/src/libs/script-loader/types.ts" name="Script" />

### StandardEventParams

<AutoTypeTable path="./packages/scripts/src/meta-pixel.ts" name="StandardEventParams" />
